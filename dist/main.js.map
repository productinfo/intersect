{"mappings":"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","sources":["src/index.ts"],"sourcesContent":["import { Vec } from \"@tldraw/vec\"\n\nexport type TLIntersection = {\n  didIntersect: boolean\n  message: string\n  points: number[][]\n}\n\nexport interface TLBounds {\n  minX: number\n  minY: number\n  maxX: number\n  maxY: number\n  width: number\n  height: number\n  rotation?: number\n}\n\n/**\n * Get an intersection.\n * @param message\n * @param points\n * @internal\n */\nfunction createIntersection(\n  message: string,\n  ...points: number[][]\n): TLIntersection {\n  const didIntersect = points.length > 0\n  return { didIntersect, message, points }\n}\n\n/**\n *\n * @param point\n * @param size\n * @param rotation\n * @internal\n */\nfunction getRectangleSides(\n  point: number[],\n  size: number[],\n  rotation = 0\n): [string, number[][]][] {\n  const center = [point[0] + size[0] / 2, point[1] + size[1] / 2]\n  const tl = Vec.rotWith(point, center, rotation)\n  const tr = Vec.rotWith(Vec.add(point, [size[0], 0]), center, rotation)\n  const br = Vec.rotWith(Vec.add(point, size), center, rotation)\n  const bl = Vec.rotWith(Vec.add(point, [0, size[1]]), center, rotation)\n\n  return [\n    [\"top\", [tl, tr]],\n    [\"right\", [tr, br]],\n    [\"bottom\", [br, bl]],\n    [\"left\", [bl, tl]],\n  ]\n}\n\n/**\n * Get whether angle c lies between angles a and b.\n * @param a\n * @param b\n * @param c\n * @internal\n */\nfunction isAngleBetween(a: number, b: number, c: number): boolean {\n  if (c === a || c === b) return true\n  const PI2 = Math.PI * 2\n  const AB = (b - a + PI2) % PI2\n  const AC = (c - a + PI2) % PI2\n  return AB <= Math.PI !== AC > AB\n}\n\n/* -------------------------------------------------- */\n/*                         Ray                        */\n/* -------------------------------------------------- */\n\n/**\n * Find the intersection between a ray and a ray.\n * @param p0 The first ray's point\n * @param n0 The first ray's direction vector.\n * @param p1 The second ray's point.\n * @param n1 The second ray's direction vector.\n */\nexport function /*#__PURE__*/ intersectRayRay(\n  p0: number[],\n  n0: number[],\n  p1: number[],\n  n1: number[]\n): TLIntersection {\n  const dx = p1[0] - p0[0]\n  const dy = p1[1] - p0[1]\n  const det = n1[0] * n0[1] - n1[1] * n0[0]\n  const u = (dy * n1[0] - dx * n1[1]) / det\n  const v = (dy * n0[0] - dx * n0[1]) / det\n  if (u < 0 || v < 0) return createIntersection(\"miss\")\n\n  const m0 = n0[1] / n0[0]\n  const m1 = n1[1] / n1[0]\n  const b0 = p0[1] - m0 * p0[0]\n  const b1 = p1[1] - m1 * p1[0]\n  const x = (b1 - b0) / (m0 - m1)\n  const y = m0 * x + b0\n\n  return Number.isFinite(x)\n    ? createIntersection(\"intersection\", [x, y])\n    : createIntersection(\"parallel\")\n}\n\n/**\n * Find the intersections between a ray and a line segment.\n * @param origin\n * @param direction\n * @param a1\n * @param a2\n */\nexport function /*#__PURE__*/ intersectRayLineSegment(\n  origin: number[],\n  direction: number[],\n  a1: number[],\n  a2: number[]\n): TLIntersection {\n  const [x, y] = origin\n  const [dx, dy] = direction\n  const [x1, y1] = a1\n  const [x2, y2] = a2\n\n  if (dy / dx !== (y2 - y1) / (x2 - x1)) {\n    const d = dx * (y2 - y1) - dy * (x2 - x1)\n    if (d !== 0) {\n      const r = ((y - y1) * (x2 - x1) - (x - x1) * (y2 - y1)) / d\n      const s = ((y - y1) * dx - (x - x1) * dy) / d\n      if (r >= 0 && s >= 0 && s <= 1) {\n        return createIntersection(\"intersection\", [x + r * dx, y + r * dy])\n      }\n    }\n  }\n  return createIntersection(\"no intersection\")\n}\n\n/**\n * Find the intersections between a ray and a rectangle.\n * @param origin\n * @param direction\n * @param point\n * @param size\n * @param rotation\n */\nexport function /*#__PURE__*/ intersectRayRectangle(\n  origin: number[],\n  direction: number[],\n  point: number[],\n  size: number[],\n  rotation = 0\n): TLIntersection[] {\n  return intersectRectangleRay(point, size, rotation, origin, direction)\n}\n\n/**\n * Find the intersections between a ray and an ellipse.\n * @param origin\n * @param direction\n * @param center\n * @param rx\n * @param ry\n * @param rotation\n */\nexport function /*#__PURE__*/ intersectRayEllipse(\n  origin: number[],\n  direction: number[],\n  center: number[],\n  rx: number,\n  ry: number,\n  rotation: number\n): TLIntersection {\n  const a1 = origin\n  const a2 = Vec.mul(direction, 999999999)\n  return intersectLineSegmentEllipse(a1, a2, center, rx, ry, rotation)\n}\n\n/**\n * Find the intersections between a ray and a bounding box.\n * @param origin\n * @param direction\n * @param bounds\n * @param rotation\n */\nexport function /*#__PURE__*/ intersectRayBounds(\n  origin: number[],\n  direction: number[],\n  bounds: TLBounds,\n  rotation = 0\n): TLIntersection[] {\n  const { minX, minY, width, height } = bounds\n  return intersectRayRectangle(\n    origin,\n    direction,\n    [minX, minY],\n    [width, height],\n    rotation\n  )\n}\n\n/* -------------------------------------------------- */\n/*                    Line Segment                    */\n/* -------------------------------------------------- */\n\n/**\n * Find the intersection between a line segment and a ray.\n * @param a1\n * @param a2\n * @param origin\n * @param direction\n */\nexport function /*#__PURE__*/ intersectLineSegmentRay(\n  a1: number[],\n  a2: number[],\n  origin: number[],\n  direction: number[]\n): TLIntersection {\n  return intersectRayLineSegment(origin, direction, a1, a2)\n}\n\n/**\n * Find the intersection between a line segment and a line segment.\n * @param a1\n * @param a2\n * @param b1\n * @param b2\n */\nexport function /*#__PURE__*/ intersectLineSegmentLineSegment(\n  a1: number[],\n  a2: number[],\n  b1: number[],\n  b2: number[]\n): TLIntersection {\n  const AB = Vec.sub(a1, b1)\n  const BV = Vec.sub(b2, b1)\n  const AV = Vec.sub(a2, a1)\n\n  const ua_t = BV[0] * AB[1] - BV[1] * AB[0]\n  const ub_t = AV[0] * AB[1] - AV[1] * AB[0]\n  const u_b = BV[1] * AV[0] - BV[0] * AV[1]\n\n  if (ua_t === 0 || ub_t === 0) {\n    return createIntersection(\"coincident\")\n  }\n\n  if (u_b === 0) {\n    return createIntersection(\"parallel\")\n  }\n\n  if (u_b !== 0) {\n    const ua = ua_t / u_b\n    const ub = ub_t / u_b\n    if (0 <= ua && ua <= 1 && 0 <= ub && ub <= 1) {\n      return createIntersection(\"intersection\", Vec.add(a1, Vec.mul(AV, ua)))\n    }\n  }\n\n  return createIntersection(\"no intersection\")\n}\n\n/**\n * Find the intersections between a line segment and a rectangle.\n * @param a1\n * @param a2\n * @param point\n * @param size\n */\nexport function /*#__PURE__*/ intersectLineSegmentRectangle(\n  a1: number[],\n  a2: number[],\n  point: number[],\n  size: number[]\n): TLIntersection[] {\n  return intersectRectangleLineSegment(point, size, a1, a2)\n}\n\n/**\n * Find the intersections between a line segment and an arc.\n * @param a1\n * @param a2\n * @param center\n * @param radius\n * @param start\n * @param end\n */\nexport function /*#__PURE__*/ intersectLineSegmentArc(\n  a1: number[],\n  a2: number[],\n  center: number[],\n  radius: number,\n  start: number[],\n  end: number[]\n): TLIntersection {\n  const sa = Vec.angle(center, start)\n  const ea = Vec.angle(center, end)\n  const ellipseTest = intersectEllipseLineSegment(\n    center,\n    radius,\n    radius,\n    0,\n    a1,\n    a2\n  )\n\n  if (!ellipseTest.didIntersect) return createIntersection(\"No intersection\")\n\n  const points = ellipseTest.points.filter((point) =>\n    isAngleBetween(sa, ea, Vec.angle(center, point))\n  )\n\n  if (points.length === 0) {\n    return createIntersection(\"No intersection\")\n  }\n\n  return createIntersection(\"intersection\", ...points)\n}\n\n/**\n * Find the intersections between a line segment and a circle.\n * @param a1\n * @param a2\n * @param c\n * @param r\n */\nexport function /*#__PURE__*/ intersectLineSegmentCircle(\n  a1: number[],\n  a2: number[],\n  c: number[],\n  r: number\n): TLIntersection {\n  const a =\n    (a2[0] - a1[0]) * (a2[0] - a1[0]) + (a2[1] - a1[1]) * (a2[1] - a1[1])\n  const b =\n    2 * ((a2[0] - a1[0]) * (a1[0] - c[0]) + (a2[1] - a1[1]) * (a1[1] - c[1]))\n  const cc =\n    c[0] * c[0] +\n    c[1] * c[1] +\n    a1[0] * a1[0] +\n    a1[1] * a1[1] -\n    2 * (c[0] * a1[0] + c[1] * a1[1]) -\n    r * r\n\n  const deter = b * b - 4 * a * cc\n\n  if (deter < 0) {\n    return createIntersection(\"outside\")\n  }\n\n  if (deter === 0) {\n    return createIntersection(\"tangent\")\n  }\n\n  const e = Math.sqrt(deter)\n  const u1 = (-b + e) / (2 * a)\n  const u2 = (-b - e) / (2 * a)\n  if ((u1 < 0 || u1 > 1) && (u2 < 0 || u2 > 1)) {\n    if ((u1 < 0 && u2 < 0) || (u1 > 1 && u2 > 1)) {\n      return createIntersection(\"outside\")\n    } else {\n      return createIntersection(\"inside\")\n    }\n  }\n\n  const results: number[][] = []\n  if (0 <= u1 && u1 <= 1) results.push(Vec.lrp(a1, a2, u1))\n  if (0 <= u2 && u2 <= 1) results.push(Vec.lrp(a1, a2, u2))\n\n  return createIntersection(\"intersection\", ...results)\n}\n\n/**\n * Find the intersections between a line segment and an ellipse.\n * @param a1\n * @param a2\n * @param center\n * @param rx\n * @param ry\n * @param rotation\n */\nexport function /*#__PURE__*/ intersectLineSegmentEllipse(\n  a1: number[],\n  a2: number[],\n  center: number[],\n  rx: number,\n  ry: number,\n  rotation = 0\n): TLIntersection {\n  // If the ellipse or line segment are empty, return no tValues.\n  if (rx === 0 || ry === 0 || Vec.isEqual(a1, a2)) {\n    return createIntersection(\"No intersection\")\n  }\n\n  // Get the semimajor and semiminor axes.\n  rx = rx < 0 ? rx : -rx\n  ry = ry < 0 ? ry : -ry\n\n  // Rotate points and translate so the ellipse is centered at the origin.\n  a1 = Vec.sub(Vec.rotWith(a1, center, -rotation), center)\n  a2 = Vec.sub(Vec.rotWith(a2, center, -rotation), center)\n\n  // Calculate the quadratic parameters.\n  const diff = Vec.sub(a2, a1)\n\n  const A = (diff[0] * diff[0]) / rx / rx + (diff[1] * diff[1]) / ry / ry\n  const B = (2 * a1[0] * diff[0]) / rx / rx + (2 * a1[1] * diff[1]) / ry / ry\n  const C = (a1[0] * a1[0]) / rx / rx + (a1[1] * a1[1]) / ry / ry - 1\n\n  // Make a list of t values (normalized points on the line where intersections occur).\n  const tValues: number[] = []\n\n  // Calculate the discriminant.\n  const discriminant = B * B - 4 * A * C\n\n  if (discriminant === 0) {\n    // One real solution.\n    tValues.push(-B / 2 / A)\n  } else if (discriminant > 0) {\n    const root = Math.sqrt(discriminant)\n    // Two real solutions.\n    tValues.push((-B + root) / 2 / A)\n    tValues.push((-B - root) / 2 / A)\n  }\n\n  // Filter to only points that are on the segment.\n  // Solve for points, then counter-rotate points.\n  const points = tValues\n    .filter((t) => t >= 0 && t <= 1)\n    .map((t) => Vec.add(center, Vec.add(a1, Vec.mul(Vec.sub(a2, a1), t))))\n    .map((p) => Vec.rotWith(p, center, rotation))\n\n  return createIntersection(\"intersection\", ...points)\n}\n\n/**\n * Find the intersections between a line segment and a bounding box.\n * @param a1\n * @param a2\n * @param bounds\n */\nexport function /*#__PURE__*/ intersectLineSegmentBounds(\n  a1: number[],\n  a2: number[],\n  bounds: TLBounds\n): TLIntersection[] {\n  return intersectBoundsLineSegment(bounds, a1, a2)\n}\n\n/**\n * Find the intersections between a line segment and a polyline.\n * @param a1\n * @param a2\n * @param points\n */\nexport function /*#__PURE__*/ intersectLineSegmentPolyline(\n  a1: number[],\n  a2: number[],\n  points: number[][]\n): TLIntersection[] {\n  const intersections: TLIntersection[] = []\n\n  for (let i = 1; i < points.length + 1; i++) {\n    const int = intersectLineSegmentLineSegment(\n      a1,\n      a2,\n      points[i - 1],\n      points[i % points.length]\n    )\n\n    if (int) {\n      intersections.push(int)\n    }\n  }\n\n  return intersections\n}\n\n/* -------------------------------------------------- */\n/*                      Rectangle                     */\n/* -------------------------------------------------- */\n\n/**\n * Find the intersections between a rectangle and a ray.\n * @param point\n * @param size\n * @param rotation\n * @param origin\n * @param direction\n */\nexport function /*#__PURE__*/ intersectRectangleRay(\n  point: number[],\n  size: number[],\n  rotation: number,\n  origin: number[],\n  direction: number[]\n): TLIntersection[] {\n  const sideIntersections = getRectangleSides(point, size, rotation).reduce<\n    TLIntersection[]\n  >((acc, [message, [a1, a2]]) => {\n    const intersection = intersectRayLineSegment(origin, direction, a1, a2)\n\n    if (intersection) {\n      acc.push(createIntersection(message, ...intersection.points))\n    }\n\n    return acc\n  }, [])\n\n  return sideIntersections.filter((int) => int.didIntersect)\n}\n\n/**\n * Find the intersections between a rectangle and a line segment.\n * @param point\n * @param size\n * @param a1\n * @param a2\n */\nexport function /*#__PURE__*/ intersectRectangleLineSegment(\n  point: number[],\n  size: number[],\n  a1: number[],\n  a2: number[]\n): TLIntersection[] {\n  const sideIntersections = getRectangleSides(point, size).reduce<\n    TLIntersection[]\n  >((acc, [message, [b1, b2]]) => {\n    const intersection = intersectLineSegmentLineSegment(a1, a2, b1, b2)\n\n    if (intersection) {\n      acc.push(createIntersection(message, ...intersection.points))\n    }\n\n    return acc\n  }, [])\n\n  return sideIntersections.filter((int) => int.didIntersect)\n}\n\n/**\n * Find the intersections between a rectangle and a rectangle.\n * @param point1\n * @param size1\n * @param point2\n * @param size2\n */\nexport function /*#__PURE__*/ intersectRectangleRectangle(\n  point1: number[],\n  size1: number[],\n  point2: number[],\n  size2: number[]\n): TLIntersection[] {\n  const sideIntersections = getRectangleSides(point1, size1).reduce<\n    TLIntersection[]\n  >((acc, [message, [a1, a2]]) => {\n    const intersections = intersectRectangleLineSegment(point2, size2, a1, a2)\n\n    acc.push(\n      ...intersections.map((int) =>\n        createIntersection(`${message} ${int.message}`, ...int.points)\n      )\n    )\n\n    return acc\n  }, [])\n\n  return sideIntersections.filter((int) => int.didIntersect)\n}\n\n/**\n * Find the intersections between a rectangle and an arc.\n * @param point\n * @param size\n * @param center\n * @param radius\n * @param start\n * @param end\n */\nexport function /*#__PURE__*/ intersectRectangleArc(\n  point: number[],\n  size: number[],\n  center: number[],\n  radius: number,\n  start: number[],\n  end: number[]\n): TLIntersection[] {\n  const sideIntersections = getRectangleSides(point, size).reduce<\n    TLIntersection[]\n  >((acc, [message, [a1, a2]]) => {\n    const intersection = intersectArcLineSegment(\n      center,\n      radius,\n      start,\n      end,\n      a1,\n      a2\n    )\n\n    if (intersection) {\n      acc.push({ ...intersection, message })\n    }\n\n    return acc\n  }, [])\n\n  return sideIntersections.filter((int) => int.didIntersect)\n}\n\n/**\n * Find the intersections between a rectangle and a circle.\n * @param point\n * @param size\n * @param c\n * @param r\n */\nexport function /*#__PURE__*/ intersectRectangleCircle(\n  point: number[],\n  size: number[],\n  c: number[],\n  r: number\n): TLIntersection[] {\n  const sideIntersections = getRectangleSides(point, size).reduce<\n    TLIntersection[]\n  >((acc, [message, [a1, a2]]) => {\n    const intersection = intersectLineSegmentCircle(a1, a2, c, r)\n\n    if (intersection) {\n      acc.push({ ...intersection, message })\n    }\n\n    return acc\n  }, [])\n\n  return sideIntersections.filter((int) => int.didIntersect)\n}\n\n/**\n * Find the intersections between a rectangle and an ellipse.\n * @param point\n * @param size\n * @param c\n * @param rx\n * @param ry\n * @param rotation\n */\nexport function /*#__PURE__*/ intersectRectangleEllipse(\n  point: number[],\n  size: number[],\n  c: number[],\n  rx: number,\n  ry: number,\n  rotation = 0\n): TLIntersection[] {\n  const sideIntersections = getRectangleSides(point, size).reduce<\n    TLIntersection[]\n  >((acc, [message, [a1, a2]]) => {\n    const intersection = intersectLineSegmentEllipse(\n      a1,\n      a2,\n      c,\n      rx,\n      ry,\n      rotation\n    )\n\n    if (intersection) {\n      acc.push({ ...intersection, message })\n    }\n\n    return acc\n  }, [])\n\n  return sideIntersections.filter((int) => int.didIntersect)\n}\n\n/**\n * Find the intersections between a rectangle and a bounding box.\n * @param point\n * @param size\n * @param bounds\n */\nexport function /*#__PURE__*/ intersectRectangleBounds(\n  point: number[],\n  size: number[],\n  bounds: TLBounds\n): TLIntersection[] {\n  const { minX, minY, width, height } = bounds\n  return intersectRectangleRectangle(point, size, [minX, minY], [width, height])\n}\n\n/**\n * Find the intersections between a rectangle and a polyline.\n * @param point\n * @param size\n * @param points\n */\nexport function /*#__PURE__*/ intersectRectanglePolyline(\n  point: number[],\n  size: number[],\n  points: number[][]\n): TLIntersection[] {\n  const sideIntersections = getRectangleSides(point, size).reduce<\n    TLIntersection[]\n  >((acc, [message, [a1, a2]]) => {\n    const intersections = intersectLineSegmentPolyline(a1, a2, points)\n\n    if (intersections.length > 0) {\n      acc.push(\n        createIntersection(message, ...intersections.flatMap((i) => i.points))\n      )\n    }\n\n    return acc\n  }, [])\n\n  return sideIntersections.filter((int) => int.didIntersect)\n}\n\n/* -------------------------------------------------- */\n/*                         Arc                        */\n/* -------------------------------------------------- */\n\n/**\n * Find the intersections between a arc and a line segment.\n * @param center\n * @param radius\n * @param start\n * @param end\n * @param a1\n * @param a2\n */\nexport function /*#__PURE__*/ intersectArcLineSegment(\n  center: number[],\n  radius: number,\n  start: number[],\n  end: number[],\n  a1: number[],\n  a2: number[]\n): TLIntersection {\n  return intersectLineSegmentArc(a1, a2, center, radius, start, end)\n}\n\n/**\n * Find the intersections between a arc and a rectangle.\n * @param center\n * @param radius\n * @param start\n * @param end\n * @param point\n * @param size\n */\nexport function /*#__PURE__*/ intersectArcRectangle(\n  center: number[],\n  radius: number,\n  start: number[],\n  end: number[],\n  point: number[],\n  size: number[]\n): TLIntersection[] {\n  return intersectRectangleArc(point, size, center, radius, start, end)\n}\n\n/**\n * Find the intersections between a arc and a bounding box.\n * @param center\n * @param radius\n * @param start\n * @param end\n * @param bounds\n */\nexport function /*#__PURE__*/ intersectArcBounds(\n  center: number[],\n  radius: number,\n  start: number[],\n  end: number[],\n  bounds: TLBounds\n): TLIntersection[] {\n  const { minX, minY, width, height } = bounds\n  return intersectArcRectangle(\n    center,\n    radius,\n    start,\n    end,\n    [minX, minY],\n    [width, height]\n  )\n}\n\n/* -------------------------------------------------- */\n/*                       Circle                       */\n/* -------------------------------------------------- */\n\n/**\n * Find the intersections between a circle and a line segment.\n * @param c\n * @param r\n * @param a1\n * @param a2\n */\nexport function /*#__PURE__*/ intersectCircleLineSegment(\n  c: number[],\n  r: number,\n  a1: number[],\n  a2: number[]\n): TLIntersection {\n  return intersectLineSegmentCircle(a1, a2, c, r)\n}\n\n/**\n * Find the intersections between a circle and a circle.\n * @param c1\n * @param r1\n * @param c2\n * @param r2\n */\nexport function /*#__PURE__*/ intersectCircleCircle(\n  c1: number[],\n  r1: number,\n  c2: number[],\n  r2: number\n): TLIntersection {\n  let dx = c2[0] - c1[0],\n    dy = c2[1] - c1[1]\n\n  const d = Math.sqrt(dx * dx + dy * dy),\n    x = (d * d - r2 * r2 + r1 * r1) / (2 * d),\n    y = Math.sqrt(r1 * r1 - x * x)\n\n  dx /= d\n  dy /= d\n\n  return createIntersection(\n    \"intersection\",\n    [c1[0] + dx * x - dy * y, c1[1] + dy * x + dx * y],\n    [c1[0] + dx * x + dy * y, c1[1] + dy * x - dx * y]\n  )\n}\n\n/**\n * Find the intersections between a circle and a rectangle.\n * @param c\n * @param r\n * @param point\n * @param size\n */\nexport function /*#__PURE__*/ intersectCircleRectangle(\n  c: number[],\n  r: number,\n  point: number[],\n  size: number[]\n): TLIntersection[] {\n  return intersectRectangleCircle(point, size, c, r)\n}\n\n/**\n * Find the intersections between a circle and a bounding box.\n * @param c\n * @param r\n * @param bounds\n */\nexport function /*#__PURE__*/ intersectCircleBounds(\n  c: number[],\n  r: number,\n  bounds: TLBounds\n): TLIntersection[] {\n  const { minX, minY, width, height } = bounds\n  return intersectCircleRectangle(c, r, [minX, minY], [width, height])\n}\n\n/* -------------------------------------------------- */\n/*                       Ellipse                      */\n/* -------------------------------------------------- */\n\n/**\n * Find the intersections between an ellipse and a ray.\n * @param center\n * @param rx\n * @param ry\n * @param rotation\n * @param point\n * @param direction\n */\nexport function /*#__PURE__*/ intersectEllipseRay(\n  center: number[],\n  rx: number,\n  ry: number,\n  rotation: number,\n  point: number[],\n  direction: number[]\n): TLIntersection {\n  return intersectRayEllipse(point, direction, center, rx, ry, rotation)\n}\n\n/**\n * Find the intersections between an ellipse and a line segment.\n * @param center\n * @param rx\n * @param ry\n * @param rotation\n * @param a1\n * @param a2\n */\nexport function /*#__PURE__*/ intersectEllipseLineSegment(\n  center: number[],\n  rx: number,\n  ry: number,\n  rotation = 0,\n  a1: number[],\n  a2: number[]\n): TLIntersection {\n  if (rx === ry) {\n    return intersectLineSegmentCircle(a1, a2, center, rx)\n  }\n\n  return intersectLineSegmentEllipse(a1, a2, center, rx, ry, rotation)\n}\n\n/**\n * Find the intersections between an ellipse and a rectangle.\n * @param center\n * @param rx\n * @param ry\n * @param rotation\n * @param point\n * @param size\n */\nexport function /*#__PURE__*/ intersectEllipseRectangle(\n  center: number[],\n  rx: number,\n  ry: number,\n  rotation = 0,\n  point: number[],\n  size: number[]\n): TLIntersection[] {\n  if (rx === ry) {\n    return intersectRectangleCircle(point, size, center, rx)\n  }\n\n  return intersectRectangleEllipse(point, size, center, rx, ry, rotation)\n}\n\n/**\n * Find the intersections between an ellipse and an ellipse.\n * Adapted from https://gist.github.com/drawable/92792f59b6ff8869d8b1\n * @param _c1\n * @param _rx1\n * @param _ry1\n * @param _r1\n * @param _c2\n * @param _rx2\n * @param _ry2\n * @param _r2\n */\nexport function /*#__PURE__*/ intersectEllipseEllipse(\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  _c1: number[],\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  _rx1: number,\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  _ry1: number,\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  _r1: number,\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  _c2: number[],\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  _rx2: number,\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  _ry2: number,\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  _r2: number\n): TLIntersection {\n  // TODO\n  return createIntersection(\"no intersection\")\n}\n\n/**\n * Find the intersections between an ellipse and a circle.\n * @param c\n * @param rx\n * @param ry\n * @param rotation\n * @param c2\n * @param r2\n */\nexport function /*#__PURE__*/ intersectEllipseCircle(\n  c: number[],\n  rx: number,\n  ry: number,\n  rotation: number,\n  c2: number[],\n  r2: number\n): TLIntersection {\n  return intersectEllipseEllipse(c, rx, ry, rotation, c2, r2, r2, 0)\n}\n\n/**\n * Find the intersections between an ellipse and a bounding box.\n * @param c\n * @param rx\n * @param ry\n * @param rotation\n * @param bounds\n */\nexport function /*#__PURE__*/ intersectEllipseBounds(\n  c: number[],\n  rx: number,\n  ry: number,\n  rotation: number,\n  bounds: TLBounds\n): TLIntersection[] {\n  const { minX, minY, width, height } = bounds\n  return intersectEllipseRectangle(\n    c,\n    rx,\n    ry,\n    rotation,\n    [minX, minY],\n    [width, height]\n  )\n}\n\n/**\n * Find the intersections between a bounding box and a ray.\n * @param bounds\n * @param origin\n * @param direction\n */\nexport function /*#__PURE__*/ intersectBoundsRay(\n  bounds: TLBounds,\n  origin: number[],\n  direction: number[]\n): TLIntersection[] {\n  const { minX, minY, width, height } = bounds\n  return intersectRayRectangle(origin, direction, [minX, minY], [width, height])\n}\n\n/**\n * Find the intersections between a bounding box and a line segment.\n * @param bounds\n * @param a1\n * @param a2\n */\nexport function /*#__PURE__*/ intersectBoundsLineSegment(\n  bounds: TLBounds,\n  a1: number[],\n  a2: number[]\n): TLIntersection[] {\n  const { minX, minY, width, height } = bounds\n  return intersectLineSegmentRectangle(a1, a2, [minX, minY], [width, height])\n}\n\n/**\n * Find the intersections between a bounding box and a rectangle.\n * @param bounds\n * @param point\n * @param size\n */\nexport function /*#__PURE__*/ intersectBoundsRectangle(\n  bounds: TLBounds,\n  point: number[],\n  size: number[]\n): TLIntersection[] {\n  const { minX, minY, width, height } = bounds\n  return intersectRectangleRectangle(point, size, [minX, minY], [width, height])\n}\n\n/**\n * Find the intersections between a bounding box and a bounding box.\n * @param bounds1\n * @param bounds2\n */\nexport function /*#__PURE__*/ intersectBoundsBounds(\n  bounds1: TLBounds,\n  bounds2: TLBounds\n): TLIntersection[] {\n  return intersectRectangleRectangle(\n    [bounds1.minX, bounds1.minY],\n    [bounds1.width, bounds1.height],\n    [bounds2.minX, bounds2.minY],\n    [bounds2.width, bounds2.height]\n  )\n}\n\n/**\n * Find the intersections between a bounding box and an arc.\n * @param bounds\n * @param center\n * @param radius\n * @param start\n * @param end\n */\nexport function /*#__PURE__*/ intersectBoundsArc(\n  bounds: TLBounds,\n  center: number[],\n  radius: number,\n  start: number[],\n  end: number[]\n): TLIntersection[] {\n  const { minX, minY, width, height } = bounds\n  return intersectArcRectangle(\n    center,\n    radius,\n    start,\n    end,\n    [minX, minY],\n    [width, height]\n  )\n}\n\n/**\n * Find the intersections between a bounding box and a circle.\n * @param bounds\n * @param c\n * @param r\n */\nexport function /*#__PURE__*/ intersectBoundsCircle(\n  bounds: TLBounds,\n  c: number[],\n  r: number\n): TLIntersection[] {\n  const { minX, minY, width, height } = bounds\n  return intersectCircleRectangle(c, r, [minX, minY], [width, height])\n}\n\n/**\n * Find the intersections between a bounding box and an ellipse.\n * @param bounds\n * @param c\n * @param rx\n * @param ry\n * @param rotation\n */\nexport function /*#__PURE__*/ intersectBoundsEllipse(\n  bounds: TLBounds,\n  c: number[],\n  rx: number,\n  ry: number,\n  rotation = 0\n): TLIntersection[] {\n  const { minX, minY, width, height } = bounds\n  return intersectEllipseRectangle(\n    c,\n    rx,\n    ry,\n    rotation,\n    [minX, minY],\n    [width, height]\n  )\n}\n\n/**\n * Find the intersections between a bounding box and a polyline.\n * @param bounds\n * @param points\n */\nexport function /*#__PURE__*/ intersectBoundsPolyline(\n  bounds: TLBounds,\n  points: number[][]\n): TLIntersection[] {\n  return intersectPolylineBounds(points, bounds)\n}\n\n/* -------------------------------------------------- */\n/*                      Polyline                      */\n/* -------------------------------------------------- */\n\n/**\n * Find the intersections between a polyline and a line segment.\n * @param points\n * @param a1\n * @param a2\n */\nexport function /*#__PURE__*/ intersectPolylineLineSegment(\n  points: number[][],\n  a1: number[],\n  a2: number[]\n): TLIntersection[] {\n  return intersectLineSegmentPolyline(a1, a2, points)\n}\n\n/**\n * Find the intersections between a polyline and a rectangle.\n * @param points\n * @param point\n * @param size\n */\nexport function /*#__PURE__*/ intersectPolylineRectangle(\n  points: number[][],\n  point: number[],\n  size: number[]\n): TLIntersection[] {\n  return intersectRectanglePolyline(point, size, points)\n}\n\n/**\n * Find the intersections between a polyline and a bounding box.\n * @param points\n * @param bounds\n */\nexport function /*#__PURE__*/ intersectPolylineBounds(\n  points: number[][],\n  bounds: TLBounds\n): TLIntersection[] {\n  return intersectRectanglePolyline(\n    [bounds.minX, bounds.minY],\n    [bounds.width, bounds.height],\n    points\n  )\n}\n"],"names":[],"version":3,"file":"main.js.map"}